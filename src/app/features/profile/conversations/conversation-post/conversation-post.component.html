<div class="comment">
  <div class="header">
    <div class="avatar">
      <img [src]="'assets/img/profile.jpg'" alt="Profile Picture" />
    </div>
    <div class="info">
      <strong>{{ post.posterUsername }}</strong>
      <div class="joined">{{ postedAt }}</div>
    </div>
  </div>

  <div class="content">{{ post.content }}</div>
  <div *ngIf="!post.reply" class="section-divider"></div>

  <div *ngIf="!post.reply" class="header-row">
    <div class="avatar">
      <img [src]="'assets/img/profile.jpg'" alt="Profile Picture" />
    </div>
    <button (click)="toggleReplyBox()">
      {{ showReplyBox ? "Cancel" : "Reply" }}
    </button>
  </div>

  <div *ngIf="showReplyBox" class="reply-box">
    <textarea
      [(ngModel)]="replyContent"
      placeholder="Write a reply..."
    ></textarea>
    <button (click)="saveNewReply()">Send</button>
  </div>

  <div class="replies" *ngIf="post.replies?.length">
    <app-conversation-post
      *ngFor="let reply of post.replies"
      [post]="reply"
    ></app-conversation-post>
  </div>
</div>
